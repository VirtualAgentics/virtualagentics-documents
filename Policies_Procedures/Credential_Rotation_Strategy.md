---
title: "AWS Secrets Manager & Credential Rotation Strategy â€“ Virtual Agentics"
status: "Stable Draft"
audience: "Internal (Security, Engineering, DevOps); External (Auditors, Stakeholders)"
authors: "VirtualAgentics Core Team (generated by ChatGPT GPT-4.5, curated by Ben)"
version: "1.0"
date: "2025-06-06"
gpt_model: "Drafted by GPT-4.5 Deep Research"
---

# AWS Secrets Manager & Credential Rotation Strategy: Virtual Agentics

## Purpose

This document defines the credential and secrets management strategy for Virtual Agentics, with a focus on automated rotation, auditability, and least-privilege access using AWS Secrets Manager.

---

## 1. Principles

- **No hardcoded credentials:** No passwords, tokens, or secrets may be present in code or Terraform; all loaded from AWS Secrets Manager at runtime.
- **Automatic rotation wherever possible:** All managed credentials (API keys, DB passwords, mail tokens, etc.) are rotated regularly and automatically when supported.
- **Least-privilege access:** Only explicitly authorized Lambda functions, agents, or services can access required secrets.

---

## 2. Secrets Managed

- **API keys:** OpenAI, SaaS, vector DBs, email services
- **Database credentials:** DynamoDB, RDS, any future data stores
- **SMTP/mail credentials:** WorkMail, SES
- **Other tokens:** Used for any third-party integration

---

## 3. AWS Secrets Manager Configuration

- **Naming:** All secrets named per [Naming_Conventions.md](../Naming_Conventions.md) (e.g., `va-prod-core-openai-api-key`)
- **Access Policy:** Each secret has a resource policy limiting access to the intended function or agent IAM role
- **Rotation Lambda:** When supported, automatic rotation is enabled via AWS-provided or custom Lambda
- **Audit:** Accesses logged in CloudTrail; rotation actions documented and monitored

---

## 4. Rotation Frequency and Triggers

| Secret Type      | Rotation Frequency   | Method                           | Notes                        |
|------------------|---------------------|----------------------------------|------------------------------|
| API Keys         | 30 days (default)   | Manual or SaaS webhook/script    | Automated if SaaS supports   |
| DB Credentials   | 60 days (max)       | AWS SM rotation Lambda           | Use built-in rotation when possible |
| SMTP/Mail        | 90 days             | Manual, reviewed quarterly       | Rotate on incident or personnel change |
| Other Tokens     | 30-60 days          | Manual/scripted                  | As supported by provider     |

- **Immediate rotation:** Any suspected compromise or role/personnel change

---

## 5. Granting and Revoking Access

- **Provisioning:** Only via Terraform/IaC; IAM policy for each Lambda/agent scoped to `secretsmanager:GetSecretValue` for that secret
- **Revocation:** Remove IAM permission and rotate secret if access is no longer needed

---

## 6. Monitoring, Audit, and Compliance

- **CloudTrail logs:** All secret access and rotation actions recorded and reviewed quarterly
- **Alerts:** Alarms for access from unexpected principals, failed rotation, or failed access attempts
- **Compliance review:** Quarterly audit of all secrets, access policies, and rotation logs

---

## 7. Exceptions and Change Control

- Any deviations from this policy (e.g., non-automated rotation) must be approved, documented, and include a mitigation plan
- All changes to this strategy require PR and review, with rationale and approval

---

## 8. References

- [Compliance_and_Security_Policies.md](../Compliance_and_Security_Policies.md)
- [Technical_Specification_v1.md](../Technical_Specification_v1.md)
- [Naming_Conventions.md](../Naming_Conventions.md)
- Source: "AWS Secrets Manager_ Credential Rotation Strategy.pdf"

---

*End of document*
