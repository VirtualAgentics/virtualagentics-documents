---
title: "DNS Zones â€“ Virtual Agentics"
status: "Stable Draft"
audience: "Internal (Cloud, DevOps, Security, App Teams); External (Auditors, Stakeholders)"
authors: "VirtualAgentics Core Team (generated by ChatGPT GPT-4.5, curated by Ben)"
version: "1.0"
date: "2025-06-06"
gpt_model: "Drafted by GPT-4.5 Deep Research"
---

# DNS Zones: Virtual Agentics

## Purpose

This document defines all DNS zones (public and private), record management policies, and domain usage for the Virtual Agentics cloud environments. It is the single source of truth for DNS configuration, ensuring auditability, service discovery, and best-practice naming across environments.

---

## 1. Principles and Strategy

- **Split-horizon DNS:** Public zones for internet-facing records, private zones for internal service discovery.
- **Zone-per-environment:** Separate hosted zones for prod, dev, shared, sandbox, etc., mapped to the AWS Addressing Plan.
- **Automation-first:** All DNS records and zones are provisioned and managed via Terraform, tracked in Git.
- **Domain authority:** All records under `virtualagentics.ai` and its subdomains.
- **Naming consistency:** DNS names follow [Naming_Conventions.md](Naming_Conventions.md).

---

## 2. Public DNS Zones

### Primary Public Zone

| Zone Name              | Purpose                        | Delegated From | Hosted In             |
|------------------------|--------------------------------|----------------|-----------------------|
| virtualagentics.ai     | Main brand/domain (all envs)   | Registrar      | Route53 (prod acct)   |

- This is the authoritative parent domain.
- Used for all public-facing endpoints (websites, APIs, email, etc.).

### Subdomain Zones (if needed for delegation)

| Subdomain                   | Use Case                      | Example Records                         |
|-----------------------------|-------------------------------|-----------------------------------------|
| prod.virtualagentics.ai     | Prod-only public endpoints    | `api.prod.virtualagentics.ai`, `app.prod.virtualagentics.ai`   |
| dev.virtualagentics.ai      | Dev-only public endpoints     | `api.dev.virtualagentics.ai`, etc.      |
| shared.virtualagentics.ai   | Shared public endpoints       | `status.shared.virtualagentics.ai`      |

> *Subdomain delegation is optional and used if environments require independent management.*

---

## 3. Private DNS Zones

| Zone Name                      | VPC Association                | Purpose                                | Example Records                  |
|--------------------------------|-------------------------------|----------------------------------------|----------------------------------|
| prod.virtualagentics.ai        | va-prod-core-vpc, ai-vpc      | Internal service discovery (prod)      | `db.prod.virtualagentics.ai`, `internal-api.prod.virtualagentics.ai` |
| dev.virtualagentics.ai         | va-dev-core-vpc               | Internal dev/test service discovery    | `db.dev.virtualagentics.ai`, `lambda.dev.virtualagentics.ai`         |
| shared.virtualagentics.ai      | va-sharedservices-vpc         | Internal shared services               | `smtp.shared.virtualagentics.ai`, `vault.shared.virtualagentics.ai`  |
| sandbox.virtualagentics.ai     | va-sandbox-vpc                | Experimental/test service discovery    | `test.sandbox.virtualagentics.ai`                                    |

- All private zones are created as Route53 private hosted zones, associated with their respective VPC(s).
- Internal records are never exposed publicly.

---

## 4. Record Types and Conventions

| Type      | Example Record                         | Purpose                                |
|-----------|----------------------------------------|----------------------------------------|
| A/AAAA    | `api.prod.virtualagentics.ai`          | Service endpoints (ALB/NLB/EIP)        |
| CNAME     | `www.virtualagentics.ai` -> S3/CloudFront| Web aliases, redirects                |
| MX        | `virtualagentics.ai`                   | Mail routing (WorkMail)                |
| TXT       | `_amazonses.virtualagentics.ai`        | SES/WorkMail validation                |
| SRV       | `ldap._tcp.shared.virtualagentics.ai`  | Internal services                      |
| PTR       | (reverse for VPCs if required)         | Internal troubleshooting               |

- **No wildcards in internal zones unless needed** (explicit records preferred for auditability).
- **ACM validation records** placed in relevant zones for SSL certificates.

---

## 5. Domain and Subdomain Use

| Use Case                 | Example FQDN                         | Public/Private | Notes                                             |
|--------------------------|--------------------------------------|----------------|---------------------------------------------------|
| Main Website             | www.virtualagentics.ai               | Public         | CloudFront/S3                                     |
| API Gateway (Prod)       | api.prod.virtualagentics.ai          | Public         | API Gateway custom domain                         |
| Internal Database        | db.prod.virtualagentics.ai           | Private        | RDS endpoint in prod VPC                          |
| Lambda (internal event)  | lambda.dev.virtualagentics.ai        | Private        | Private endpoint, dev only                        |
| Mail (WorkMail)          | smtp.virtualagentics.ai, MX, SPF, DKIM | Public      | WorkMail and SES setup                            |
| Internal Vault           | vault.shared.virtualagentics.ai      | Private        | E.g., HashiCorp Vault, only within shared VPC     |

---

## 6. Mail/DNS Integration (SES, WorkMail)

- All MX, TXT, DKIM, SPF, and validation records for SES/WorkMail are defined in `virtualagentics.ai` public zone.
- Aliases for agent roles or system accounts follow naming like `agentname@virtualagentics.ai`.
- Any required subdomain verification for SES (e.g., `mail.virtualagentics.ai`) must be tracked in this document.

---

## 7. Management, Automation & Change Control

- All zones and records are defined in Terraform, with changes via PR and code review.
- No manual changes allowed in Route53 console except in break-glass situations (must be backported to code).
- All DNS-related code/modules stored in `virtualagentics-iac` with clear environment segregation.

---

## 8. References

- [AWS_Addressing_Plan.md](AWS_Addressing_Plan.md)
- [Naming_Conventions.md](Naming_Conventions.md)
- [Technical_Specification_v1.md](Technical_Specification_v1.md)
- Source: "Virtual Agentics Detailed DNS zones.docx"

---

*End of document*
